<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Printer Manager</title>

    <!-- Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/overlay.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/root.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/mobile.css') }}" media="(max-width: 768px)">

    <!-- Icon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/icon.png') }}">

    <!-- Noscript -->
    <noscript>
        <style>
        .hidden{display:none!important}
        .requires-js{display:none!important}
        </style>
    </noscript>
</head>
<body>
  <!-- ========================= HEADER ========================= -->
  <header>
        <img src="{{ url_for('static', filename='images/icon.png') }}" alt="Logo" class="logo">
        <h1>Printer Manager</h1>
        <div class="header-controls">
            <div class="dropdown" style="position:relative;">
                <button id="appearance-dropdown-btn" class="btn" aria-haspopup="true" aria-expanded="false" title="Appearance options">
                    ðŸŽ¨
                </button>

                <div id="appearance-dropdown" class="hidden" role="menu" aria-labelledby="appearance-dropdown-btn">
                    <div class="dropdown-item">
                        <div class="dropdown-item-label">
                            <strong>Theme</strong>
                            <small>Dark mode</small>
                        </div>
                        <label class="toggle">
                            <input id="theme-switch" type="checkbox" checked>
                            <span class="slider"><span></span></span>
                        </label>
                    </div>
                </div>

                <button id="theme-toggle" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;" aria-pressed="false" title="Toggle Lyntr">Toggle Lyntr</button>
            </div>

      <button id="overlay-editor-btn" class="btn primary" title="Open overlay editor">Overlay Editor</button>
    </div>
  </header>

  <!-- ========================= MAIN ========================= -->
  <main class="container">
    <div class="left-col">
      <!-- Current -->
      <section class="panel current">
        <h2>Current Image</h2>

        <div class="current-box">
          <img src="{{ url_for('static', filename='images/Testpage.png') }}" class="image-preview" alt="Current image preview" id="current-box-image" />

          <div class="image-info">
            <p id="current-box-pc"><strong>PC:</strong>-</p>
            <p id="current-box-plot"><strong>Plot:</strong>-</p>
            <p id="current-box-overlay"><strong>Overlay:</strong>-</p>
          </div>

          <p id="current-box-no-data">No job currently running</p>
        </div>

        <div class="progress-bar">
          <div class="progress" id="job-progress" style="width: 40%;"></div>
        </div>
        <small id="job-time-left">Time left: 32s</small>
      </section>

      <!-- Controls -->
      <section class="panel controls">
        <h2>Status: <span class="status-text printing" id="status-text">Printing</span></h2>

        <label class="toggle">
          <input type="checkbox" id="auto-print-toggle" checked />
          <span class="slider"></span> Print On Receive
        </label>

        <div class="control-buttons">
          <button class="btn" id="btn-settings">Settings</button>
          <button class="btn" id="btn-more">More</button>
          <button class="btn warning" id="btn-pause">Pause</button>
        </div>

        <div class="active-overlay" id="active-overlay">Active Overlay</div>
      </section>
    </div>
    <div class="right-col">
      <!-- Unlisted -->
            <!-- Unlisted -->
      <section class="panel unlisted">
        <h2>Unlisted</h2>
        <div class="unlisted-list" id="unlisted-list">
          <!-- dynamisch per queues.js -->
        </div>
      </section>

      <!-- Queue -->
      <section class="panel queue">
        <div class="panel-header">
          <h2>Queue</h2>
        </div>
        <div class="queue-list" id="queue-list">
          <!-- dynamisch per queues.js -->
        </div>
      </section>

    </div>
  </main>

  
  <!-- ========================= FOOTER ========================= -->
  <footer class="site-footer" role="contentinfo" style="padding:0.75rem 1rem;text-align:center;font-size:.85rem;color:var(--muted,#999);">
    <small>Website by <strong>nino.css</strong> Â· API by <strong>Hasenzahn1</strong></small>
  </footer>

  <!-- ========================= SCRIPTS ========================= -->
  <script src="scripts/core/app.js" defer></script>

  <!-- UI / global small features -->
  <script src="scripts/ui/appearance.js" defer></script>
  <script src="scripts/ui/shortcuts.js" defer></script>
  <script src="scripts/ui/controls.js" defer></script>

  <!-- Queues -->
  <script src="scripts/queues/current-job.js" defer></script>
  <script src="scripts/queues/streams.js" defer></script>

  <!-- Overlay editor -->
  <script src="scripts/overlay/modal.js" defer></script>
  <script src="scripts/overlay/editor.js" defer></script>
  <script src="scripts/overlay/panel.js" defer></script>
</body>
</html>
